
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../diagrams/">
      
      
        <link rel="next" href="../../ui/mirror-interface/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>Network - Lyra/Echo</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.84d31ad4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../styles/mc.css">
    
      <link rel="stylesheet" href="../../../styles/compact.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#architecture-annex-network" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Lyra/Echo" class="md-header__button md-logo" aria-label="Lyra/Echo" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Lyra/Echo
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Network
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Lyra/Echo" class="md-nav__button md-logo" aria-label="Lyra/Echo" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Lyra/Echo
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  
    
  
  
    <span class="md-status md-status--evolving"></span>
  

  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Design Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Design Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../components/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Components
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../roadmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Roadmap
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../orchestration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Orchestration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agents
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Governance
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Governance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../governance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Governance Overview
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../risk-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Risk Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../risk-simulator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Risk Simulator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Administrative Policies
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Administrative Policies
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/model-lifecycle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model Lifecycle
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/prompt-and-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prompt and Agent
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/data-privacy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Retention & Privacy
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/access-control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Access Control
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/incident-response/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Incident Response
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/audit-review/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Audit & Review
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/change-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Change Management
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/ethical-use/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ethical Use
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/power-continuity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Power & Continuity
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Documentation & Publication
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    AI Policies
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            AI Policies
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/ai-policy/constitution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Constitution
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/ai-policy/sensor-perception/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sensor & Perception
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/ai-policy/autonomy-action/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Autonomy & Action
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/ai-policy/emotional-interaction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Emotional Interaction & Psychological Safety
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/ai-policy/environmental-impact/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Environmental Impact & Sustainability
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/ai-policy/trainingdata-ethics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Training Data Ethics & Provenance
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/ai-policy/autonomous-learning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Autonomous Learning & Adaptation
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gov-ref/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Governance References
    
  </span>
  
    
  
  
    <span class="md-status md-status--stable"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Operations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ops/runbooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Runbooks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ops/maintenance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Maintenance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ops/monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Environment Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/llm-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Testing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Integration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Integration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/home-assistant/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home Assistant
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/mqtt-topics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MQTT Topics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/vector-db/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vector Database
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/security-onion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security Onion
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Security
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/threat-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Threat Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/hardening/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hardening Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/assessments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assessment Checklist
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Architecture Annex
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Architecture Annex
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../diagrams/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Diagrams
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Network
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Network
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#purpose" class="md-nav__link">
    <span class="md-ellipsis">
      Purpose
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#segmentation-overview-vlans" class="md-nav__link">
    <span class="md-ellipsis">
      Segmentation Overview (VLANs)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#addressing-plan" class="md-nav__link">
    <span class="md-ellipsis">
      Addressing Plan
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Addressing Plan">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#static-reservations-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Static Reservations (examples)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dhcp-scopes-examples" class="md-nav__link">
    <span class="md-ellipsis">
      DHCP Scopes (examples)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service-placement" class="md-nav__link">
    <span class="md-ellipsis">
      Service Placement
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#intervlan-access-policy-model-acl" class="md-nav__link">
    <span class="md-ellipsis">
      Inter‑VLAN Access Policy (Model ACL)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wifi-ssids-vlans" class="md-nav__link">
    <span class="md-ellipsis">
      Wi‑Fi SSIDs → VLANs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dnsdhcp" class="md-nav__link">
    <span class="md-ellipsis">
      DNS/DHCP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-firewall-rules-conceptual-ufwpf-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Example Firewall Rules (conceptual ufw/pf rules)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-and-logging" class="md-nav__link">
    <span class="md-ellipsis">
      Monitoring and Logging
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#change-control" class="md-nav__link">
    <span class="md-ellipsis">
      Change Control
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            UI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/mirror-interface/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mirror Interface
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/voice-interaction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Voice Interaction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/personalization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Personalization
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Release
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Release
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release/changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Change Log
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release/versioning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Versioning
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Appendices
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Appendices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reference Material
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/reference-appendix/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Entries
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            Entries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../entries/2025-11-10-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Template (2025-11-10)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#purpose" class="md-nav__link">
    <span class="md-ellipsis">
      Purpose
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#segmentation-overview-vlans" class="md-nav__link">
    <span class="md-ellipsis">
      Segmentation Overview (VLANs)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#addressing-plan" class="md-nav__link">
    <span class="md-ellipsis">
      Addressing Plan
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Addressing Plan">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#static-reservations-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Static Reservations (examples)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dhcp-scopes-examples" class="md-nav__link">
    <span class="md-ellipsis">
      DHCP Scopes (examples)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service-placement" class="md-nav__link">
    <span class="md-ellipsis">
      Service Placement
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#intervlan-access-policy-model-acl" class="md-nav__link">
    <span class="md-ellipsis">
      Inter‑VLAN Access Policy (Model ACL)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wifi-ssids-vlans" class="md-nav__link">
    <span class="md-ellipsis">
      Wi‑Fi SSIDs → VLANs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dnsdhcp" class="md-nav__link">
    <span class="md-ellipsis">
      DNS/DHCP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-firewall-rules-conceptual-ufwpf-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Example Firewall Rules (conceptual ufw/pf rules)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-and-logging" class="md-nav__link">
    <span class="md-ellipsis">
      Monitoring and Logging
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#change-control" class="md-nav__link">
    <span class="md-ellipsis">
      Change Control
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="architecture-annex-network">Architecture Annex — Network<a class="headerlink" href="#architecture-annex-network" title="Permanent link">&para;</a></h1>
<h2 id="purpose">Purpose<a class="headerlink" href="#purpose" title="Permanent link">&para;</a></h2>
<p>Network design for Lyra Echo that cleanly segments user devices, IoT/mirror infrastructure, and management traffic. These values are examples only; replace with your real addressing during deployment.</p>
<hr />
<h2 id="segmentation-overview-vlans">Segmentation Overview (VLANs)<a class="headerlink" href="#segmentation-overview-vlans" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th style="text-align: center;">VLAN</th>
<th style="text-align: left;">Name</th>
<th style="text-align: left;">Intended Use</th>
<th style="text-align: left;">Example Subnet</th>
<th style="text-align: left;">Gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">10</td>
<td style="text-align: left;"><code>LAN</code></td>
<td style="text-align: left;">General user endpoints (PCs, phones, tablets, TVs)</td>
<td style="text-align: left;">172.16.10.0/24</td>
<td style="text-align: left;">172.16.10.1</td>
</tr>
<tr>
<td style="text-align: center;">20</td>
<td style="text-align: left;"><code>IOT</code></td>
<td style="text-align: left;">Mirror, sensors, satellite nodes, Home Assistant and connected devices</td>
<td style="text-align: left;">172.16.20.0/24</td>
<td style="text-align: left;">172.16.20.1</td>
</tr>
<tr>
<td style="text-align: center;">30</td>
<td style="text-align: left;"><code>GUEST</code></td>
<td style="text-align: left;">Internet‑only guest Wi‑Fi</td>
<td style="text-align: left;">172.16.30.0/24</td>
<td style="text-align: left;">172.16.30.1</td>
</tr>
<tr>
<td style="text-align: center;">50</td>
<td style="text-align: left;"><code>SECOPS</code></td>
<td style="text-align: left;">Security Onion / monitoring backhaul</td>
<td style="text-align: left;">172.16.50.0/24</td>
<td style="text-align: left;">172.16.50.1</td>
</tr>
<tr>
<td style="text-align: center;">69</td>
<td style="text-align: left;"><code>MGMT</code></td>
<td style="text-align: left;">Switch/AP/firewall management, Vega admin plane</td>
<td style="text-align: left;">172.16.69.0/24</td>
<td style="text-align: left;">172.16.69.1</td>
</tr>
</tbody>
</table>
<p><strong>Principles</strong>
- <strong>Default‑deny</strong> between VLANs. Allow only explicit service flows.<br />
- The <strong>management plane</strong> (69) should not initiate outbound to user VLANs except for required monitoring/Orch.<br />
- IoT (20) initiates <strong>outbound only</strong> to Vega services and the orchestrator; no lateral IoT↔User access by default.</p>
<hr />
<h2 id="addressing-plan">Addressing Plan<a class="headerlink" href="#addressing-plan" title="Permanent link">&para;</a></h2>
<p>Use RFC1918 space with deterministic allocations to simplify ACLs and monitoring.</p>
<h3 id="static-reservations-examples">Static Reservations (examples)<a class="headerlink" href="#static-reservations-examples" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th style="text-align: left;">Role</th>
<th style="text-align: center;">VLAN</th>
<th style="text-align: left;">Address</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Vega (automation hub)</td>
<td style="text-align: center;">69</td>
<td style="text-align: left;">172.16.69.10</td>
</tr>
<tr>
<td style="text-align: left;">Lyra (GPU/orchestration)</td>
<td style="text-align: center;">20 or 10*</td>
<td style="text-align: left;">172.16.20.10</td>
</tr>
<tr>
<td style="text-align: left;">MQTT broker (on Vega)</td>
<td style="text-align: center;">69</td>
<td style="text-align: left;">172.16.69.20</td>
</tr>
<tr>
<td style="text-align: left;">Prometheus</td>
<td style="text-align: center;">69</td>
<td style="text-align: left;">172.16.69.30</td>
</tr>
<tr>
<td style="text-align: left;">Grafana</td>
<td style="text-align: center;">69</td>
<td style="text-align: left;">172.16.69.31</td>
</tr>
<tr>
<td style="text-align: left;">Home Assistant</td>
<td style="text-align: center;">20</td>
<td style="text-align: left;">172.16.20.20</td>
</tr>
<tr>
<td style="text-align: left;">Security Onion</td>
<td style="text-align: center;">50</td>
<td style="text-align: left;">172.16.50.10</td>
</tr>
<tr>
<td style="text-align: left;">Mirror Node (Pi 5)</td>
<td style="text-align: center;">20</td>
<td style="text-align: left;">172.16.20.101</td>
</tr>
<tr>
<td style="text-align: left;">Satellites (Pi Zero 2W)</td>
<td style="text-align: center;">20</td>
<td style="text-align: left;">172.16.20.111‑119</td>
</tr>
</tbody>
</table>
<p>* <strong>Lyra placement:</strong> If Lyra primarily serves IoT, place it in VLAN 20 and expose only necessary APIs to other VLANs. If it also hosts user‑facing apps, dual‑home via firewall or place in LAN with strict inbound rules from IoT and Mgmt.</p>
<h3 id="dhcp-scopes-examples">DHCP Scopes (examples)<a class="headerlink" href="#dhcp-scopes-examples" title="Permanent link">&para;</a></h3>
<ul>
<li>VLAN 10: 172.16.10.100‑250, lease 12h  </li>
<li>VLAN 20: 172.16.20.100‑250, lease 24h  </li>
<li>VLAN 30: 172.16.30.50‑200, lease 8h  </li>
<li>VLAN 69: <strong>No DHCP</strong> (static only)  </li>
<li>VLAN 50: static or tightly scoped DHCP</li>
</ul>
<hr />
<h2 id="service-placement">Service Placement<a class="headerlink" href="#service-placement" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Vega</strong> (Mgmt 69): Mosquitto (MQTT :1883), Node‑RED, Prometheus (9090), Grafana (3000). Bind to Mgmt interface; expose to IoT via firewall rules only.  </li>
<li><strong>Lyra</strong> (IoT 20 or LAN 10): Orchestration API, Qdrant (6333), LLM engines. Bind to local interface; selectively allow Mgmt scrape/auth as needed.  </li>
<li><strong>Security Onion</strong> (SecOps 50): inbound syslog from Vega/Lyra; no direct inbound from user VLANs.  </li>
<li><strong>Home Assistant</strong> (IoT 20): limited inbound from Mgmt and optionally from LAN for UI access.</li>
</ul>
<hr />
<h2 id="intervlan-access-policy-model-acl">Inter‑VLAN Access Policy (Model ACL)<a class="headerlink" href="#intervlan-access-policy-model-acl" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th style="text-align: center;">From VLAN</th>
<th style="text-align: center;">To VLAN</th>
<th style="text-align: left;">Ports/Services</th>
<th style="text-align: left;">Reason</th>
<th style="text-align: left;">Action</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">20 (IoT)</td>
<td style="text-align: center;">69 (Mgmt)</td>
<td style="text-align: left;">TCP 1883 (MQTT), 9090 (Prometheus push/pull if needed)</td>
<td style="text-align: left;">Telemetry + broker access</td>
<td style="text-align: left;">ALLOW (to specific hosts)</td>
</tr>
<tr>
<td style="text-align: center;">69 (Mgmt)</td>
<td style="text-align: center;">20 (IoT)</td>
<td style="text-align: left;">TCP 22, 8123, 3000, 1880</td>
<td style="text-align: left;">Admin to nodes, HA UI, Grafana, Node‑RED</td>
<td style="text-align: left;">ALLOW (admin IPs only)</td>
</tr>
<tr>
<td style="text-align: center;">10 (LAN)</td>
<td style="text-align: center;">20 (IoT)</td>
<td style="text-align: left;">TCP 8123</td>
<td style="text-align: left;">User access to Home Assistant UI</td>
<td style="text-align: left;">ALLOW</td>
</tr>
<tr>
<td style="text-align: center;">10 (LAN)</td>
<td style="text-align: center;">69 (Mgmt)</td>
<td style="text-align: left;">—</td>
<td style="text-align: left;">Prevent user access to Mgmt plane</td>
<td style="text-align: left;">DENY</td>
</tr>
<tr>
<td style="text-align: center;">20 (IoT)</td>
<td style="text-align: center;">10 (LAN)</td>
<td style="text-align: left;">—</td>
<td style="text-align: left;">Prevent IoT→LAN lateral</td>
<td style="text-align: left;">DENY</td>
</tr>
<tr>
<td style="text-align: center;">30 (Guest)</td>
<td style="text-align: center;">ANY</td>
<td style="text-align: left;">TCP/UDP 53 (DNS), 80/443 (HTTP/S)</td>
<td style="text-align: left;">Internet only</td>
<td style="text-align: left;">ALLOW to WAN, DENY to internal</td>
</tr>
<tr>
<td style="text-align: center;">50 (SecOps)</td>
<td style="text-align: center;">69/20/10</td>
<td style="text-align: left;">UDP 514 (syslog), beats/agents as configured</td>
<td style="text-align: left;">Centralized logging</td>
<td style="text-align: left;">ALLOW (ingress only to SecOps)</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Start from <strong>deny any any</strong>; then add the smallest necessary ALLOWs to meet functionality.</p>
</blockquote>
<hr />
<h2 id="wifi-ssids-vlans">Wi‑Fi SSIDs → VLANs<a class="headerlink" href="#wifi-ssids-vlans" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th style="text-align: left;">SSID</th>
<th style="text-align: center;">VLAN</th>
<th style="text-align: left;">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>Home</code></td>
<td style="text-align: center;">10</td>
<td style="text-align: left;">Standard user devices</td>
</tr>
<tr>
<td style="text-align: left;"><code>Home‑IoT</code></td>
<td style="text-align: center;">20</td>
<td style="text-align: left;">Mirror &amp; sensors (WPA2 or WPA3‑SAE)</td>
</tr>
<tr>
<td style="text-align: left;"><code>Home‑Guest</code></td>
<td style="text-align: center;">30</td>
<td style="text-align: left;">Internet‑only; client isolation enabled</td>
</tr>
</tbody>
</table>
<ul>
<li>Disable intra‑BSS client communication on Guest.  </li>
<li>Avoid exposing Mgmt over Wi‑Fi; keep wired when possible.</li>
</ul>
<hr />
<h2 id="dnsdhcp">DNS/DHCP<a class="headerlink" href="#dnsdhcp" title="Permanent link">&para;</a></h2>
<ul>
<li>Centralize DHCP per VLAN on the router.  </li>
<li>DNS: internal zone for key hosts (<code>vega.local</code>, <code>lyra.local</code>, <code>so.local</code>).  </li>
<li>mDNS: <strong>do not</strong> flood across VLANs; reflect only if a service needs discovery (e.g., HA discovery). Prefer static hostnames or unicast DNS instead.</li>
</ul>
<hr />
<h2 id="example-firewall-rules-conceptual-ufwpf-rules">Example Firewall Rules (conceptual <code>ufw</code>/pf rules)<a class="headerlink" href="#example-firewall-rules-conceptual-ufwpf-rules" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code># Default
deny in on any
allow out on any

# Mgmt plane (from admin workstation only)
allow in proto tcp from 172.16.10.50 to 172.16.69.10 port 3000  # Grafana
allow in proto tcp from 172.16.10.50 to 172.16.69.10 port 1880  # Node-RED

# IoT to Mgmt (MQTT only)
allow in proto tcp from 172.16.20.0/24 to 172.16.69.20 port 1883

# LAN to IoT (HA UI)
allow in proto tcp from 172.16.10.0/24 to 172.16.20.20 port 8123

# Guest to WAN only (implemented on AP/firewall)
deny in from 172.16.30.0/24 to 172.16.0.0/16
</code></pre></div>
<hr />
<h2 id="monitoring-and-logging">Monitoring and Logging<a class="headerlink" href="#monitoring-and-logging" title="Permanent link">&para;</a></h2>
<ul>
<li>Prometheus scrapes exporters on Mgmt and selected IoT hosts; restrict scrape targets to allow‑listed IPs.  </li>
<li>Security Onion ingests syslog from Vega/Lyra; keep content minimal (no PII).  </li>
<li>Node‑RED emits heartbeat topics per VLAN to <code>lyra/health/#</code> for quick sanity checks.</li>
</ul>
<hr />
<h2 id="change-control">Change Control<a class="headerlink" href="#change-control" title="Permanent link">&para;</a></h2>
<ul>
<li>Document every firewall or VLAN change in <code>docs/release/changelog.md</code>.  </li>
<li>Export and snapshot switch/AP/firewall configs to NAS after edits.  </li>
<li>Validate with a short test plan: MQTT publish/sub across VLANs, HA UI reachability, scrape targets up.</li>
</ul>
<hr />
<p><em>This addressing scheme is a model. Replace subnets and host IPs with your actual values during implementation.</em></p>
<p><em>Last updated: 2025‑11‑10</em></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10/dist/mermaid.min.js"></script>
      
        <script src="../../../js/mermaid-init.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
      
        <script src="../../../js/mc-sim.js"></script>
      
    
  </body>
</html>